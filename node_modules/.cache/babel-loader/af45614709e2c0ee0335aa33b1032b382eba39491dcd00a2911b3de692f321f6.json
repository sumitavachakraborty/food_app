{"ast":null,"code":"import consumer from \"./consumer\";\ndocument.addEventListener('turbolinks:load', () => {\n  const user_id = document.getElementById('notification-count').getAttribute('data-user-id');\n  let notificationCount = document.getElementById('notification-count');\n  let currentCount = parseInt(notificationCount.innerText);\n  consumer.subscriptions.create({\n    channel: \"NotificationsChannel\",\n    id: user_id\n  }, {\n    connected() {\n      console.log(\"NotificationsChannel connecte\" + user_id);\n      notificationCount.innerText = currentCount + 1;\n    },\n    disconnected() {\n      // Called when the subscription has been terminated by the server\n    },\n    received(data) {\n      console.log(\"NotificationsChannel data\");\n      console.log(data);\n    }\n  });\n});","map":{"version":3,"names":["consumer","document","addEventListener","user_id","getElementById","getAttribute","notificationCount","currentCount","parseInt","innerText","subscriptions","create","channel","id","connected","console","log","disconnected","received","data"],"sources":["/home/sumitava/rails_practise/zom/zoma/app/javascript/channels/notifications_channel.js"],"sourcesContent":["import consumer from \"./consumer\"\n\ndocument.addEventListener('turbolinks:load', () => {\n  const user_id = document.getElementById('notification-count').getAttribute('data-user-id');\n  let notificationCount = document.getElementById('notification-count');\n  let currentCount = parseInt(notificationCount.innerText);\n  consumer.subscriptions.create({ channel: \"NotificationsChannel\", id: user_id }, {\n    connected() {\n      console.log(\"NotificationsChannel connecte\"+user_id);\n      \n      notificationCount.innerText = currentCount + 1;\n    },\n    \n    disconnected() {\n      // Called when the subscription has been terminated by the server\n    },\n    received(data) {\n      console.log(\"NotificationsChannel data\");\n      \n      \n      console.log(data);\n    }\n  });\n});\n\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,YAAY;AAEjCC,QAAQ,CAACC,gBAAgB,CAAC,iBAAiB,EAAE,MAAM;EACjD,MAAMC,OAAO,GAAGF,QAAQ,CAACG,cAAc,CAAC,oBAAoB,CAAC,CAACC,YAAY,CAAC,cAAc,CAAC;EAC1F,IAAIC,iBAAiB,GAAGL,QAAQ,CAACG,cAAc,CAAC,oBAAoB,CAAC;EACrE,IAAIG,YAAY,GAAGC,QAAQ,CAACF,iBAAiB,CAACG,SAAS,CAAC;EACxDT,QAAQ,CAACU,aAAa,CAACC,MAAM,CAAC;IAAEC,OAAO,EAAE,sBAAsB;IAAEC,EAAE,EAAEV;EAAQ,CAAC,EAAE;IAC9EW,SAASA,CAAA,EAAG;MACVC,OAAO,CAACC,GAAG,CAAC,+BAA+B,GAACb,OAAO,CAAC;MAEpDG,iBAAiB,CAACG,SAAS,GAAGF,YAAY,GAAG,CAAC;IAChD,CAAC;IAEDU,YAAYA,CAAA,EAAG;MACb;IAAA,CACD;IACDC,QAAQA,CAACC,IAAI,EAAE;MACbJ,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;MAGxCD,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;IACnB;EACF,CAAC,CAAC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}