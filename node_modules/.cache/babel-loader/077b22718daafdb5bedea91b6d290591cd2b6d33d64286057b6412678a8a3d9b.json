{"ast":null,"code":"import consumer from \"./consumer\";\n$(document).on('turbolinks:load', function () {\n  const notificationList = $('#notification-list');\n  const notificationCountElement = $('#notification-count');\n  const resetCountButton = $('#reset-count-button');\n  App.notifications = App.cable.subscriptions.create('NotificationsChannel', {\n    connected() {\n      console.log(\"NotificationsChannel connected\");\n    },\n    disconnected() {\n      // Called when the subscription has been terminated by the server\n    },\n    received(data) {\n      const newNotificationItem = $('<li>').append($('<a>').attr('href', '#').text(data.message));\n      notificationList.append(newNotificationItem);\n      increaseNotificationCount();\n    }\n  });\n  resetCountButton.on('click', function () {\n    resetNotificationCount();\n  });\n  function increaseNotificationCount() {\n    const currentCount = parseInt(notificationCountElement.text());\n    const newCount = currentCount + 1;\n    notificationCountElement.text(newCount);\n    notificationCountElement.attr('data-count', newCount);\n  }\n  function resetNotificationCount() {\n    notificationCountElement.text('0');\n    notificationCountElement.attr('data-count', '0');\n  }\n});","map":{"version":3,"names":["consumer","$","document","on","notificationList","notificationCountElement","resetCountButton","App","notifications","cable","subscriptions","create","connected","console","log","disconnected","received","data","newNotificationItem","append","attr","text","message","increaseNotificationCount","resetNotificationCount","currentCount","parseInt","newCount"],"sources":["/home/sumitava/rails_practise/zom/zoma/app/javascript/channels/notifications_channel.js"],"sourcesContent":["import consumer from \"./consumer\"\n\n$(document).on('turbolinks:load', function () {\n  const notificationList = $('#notification-list');\n  const notificationCountElement = $('#notification-count');\n  const resetCountButton = $('#reset-count-button');\n\n  App.notifications = App.cable.subscriptions.create('NotificationsChannel', {\n    connected() {\n      console.log(\"NotificationsChannel connected\");\n    },\n\n    disconnected() {\n      // Called when the subscription has been terminated by the server\n    },\n\n    received(data) {\n      const newNotificationItem = $('<li>').append($('<a>').attr('href', '#').text(data.message));\n      notificationList.append(newNotificationItem);\n      increaseNotificationCount();\n    }\n  });\n\n  resetCountButton.on('click', function () {\n    resetNotificationCount();\n  });\n\n  function increaseNotificationCount() {\n    const currentCount = parseInt(notificationCountElement.text());\n    const newCount = currentCount + 1;\n    notificationCountElement.text(newCount);\n    notificationCountElement.attr('data-count', newCount);\n  }\n\n  function resetNotificationCount() {\n    notificationCountElement.text('0');\n    notificationCountElement.attr('data-count', '0');\n  }\n});\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,YAAY;AAEjCC,CAAC,CAACC,QAAQ,CAAC,CAACC,EAAE,CAAC,iBAAiB,EAAE,YAAY;EAC5C,MAAMC,gBAAgB,GAAGH,CAAC,CAAC,oBAAoB,CAAC;EAChD,MAAMI,wBAAwB,GAAGJ,CAAC,CAAC,qBAAqB,CAAC;EACzD,MAAMK,gBAAgB,GAAGL,CAAC,CAAC,qBAAqB,CAAC;EAEjDM,GAAG,CAACC,aAAa,GAAGD,GAAG,CAACE,KAAK,CAACC,aAAa,CAACC,MAAM,CAAC,sBAAsB,EAAE;IACzEC,SAASA,CAAA,EAAG;MACVC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;IAC/C,CAAC;IAEDC,YAAYA,CAAA,EAAG;MACb;IAAA,CACD;IAEDC,QAAQA,CAACC,IAAI,EAAE;MACb,MAAMC,mBAAmB,GAAGjB,CAAC,CAAC,MAAM,CAAC,CAACkB,MAAM,CAAClB,CAAC,CAAC,KAAK,CAAC,CAACmB,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAACC,IAAI,CAACJ,IAAI,CAACK,OAAO,CAAC,CAAC;MAC3FlB,gBAAgB,CAACe,MAAM,CAACD,mBAAmB,CAAC;MAC5CK,yBAAyB,CAAC,CAAC;IAC7B;EACF,CAAC,CAAC;EAEFjB,gBAAgB,CAACH,EAAE,CAAC,OAAO,EAAE,YAAY;IACvCqB,sBAAsB,CAAC,CAAC;EAC1B,CAAC,CAAC;EAEF,SAASD,yBAAyBA,CAAA,EAAG;IACnC,MAAME,YAAY,GAAGC,QAAQ,CAACrB,wBAAwB,CAACgB,IAAI,CAAC,CAAC,CAAC;IAC9D,MAAMM,QAAQ,GAAGF,YAAY,GAAG,CAAC;IACjCpB,wBAAwB,CAACgB,IAAI,CAACM,QAAQ,CAAC;IACvCtB,wBAAwB,CAACe,IAAI,CAAC,YAAY,EAAEO,QAAQ,CAAC;EACvD;EAEA,SAASH,sBAAsBA,CAAA,EAAG;IAChCnB,wBAAwB,CAACgB,IAAI,CAAC,GAAG,CAAC;IAClChB,wBAAwB,CAACe,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC;EAClD;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}