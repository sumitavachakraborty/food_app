{"ast":null,"code":"//make admin\n$(\".make_admin\").click(function () {\n  makeadmin($(this).val());\n});\nfunction makeadmin(idata) {\n  console.log(idata);\n  $.ajax({\n    url: \"/makeadmin\",\n    method: \"POST\",\n    data: {\n      id: idata,\n      authenticity_token: $('meta[name=\"csrf-token\"]').attr(\"content\")\n    },\n    success: function (data) {},\n    error: function (data) {}\n  });\n}\n\n// auto remove flash\n$(document).ready(function () {\n  setTimeout(function () {\n    $(\"#flash\").fadeOut();\n  }, 5000);\n});\n\n//mark read notifications\n$(\".mark-read\").click(function () {\n  markread($(this).val());\n});\nfunction markread(idata) {\n  $.ajax({\n    url: \"/markread\",\n    method: \"POST\",\n    data: {\n      id: idata,\n      authenticity_token: $('meta[name=\"csrf-token\"]').attr(\"content\")\n    },\n    success: function (data) {\n      alert(\"Marked as read successfully!\");\n    },\n    error: function (data) {}\n  });\n}\n$(\".notification_count\").click(function () {\n  count($(this).attr(\"value\"));\n});\nfunction count(idata) {\n  $.ajax({\n    url: \"/count\",\n    method: \"POST\",\n    data: {\n      id: idata,\n      authenticity_token: $('meta[name=\"csrf-token\"]').attr(\"content\")\n    },\n    success: function (data) {},\n    error: function (data) {}\n  });\n}\n\n// order edit\n$(document).ready(function () {\n  var initialquantity = $('.quantity input[type=\"number\"]');\n  var initialinput = $('input[name=\"order[total]\"]');\n  var initalprice = $(\".quantity .newprice\");\n  initialquantity.on(\"change\", function () {\n    updateTotal();\n  });\n  function updateTotal() {\n    var total = 0;\n    initialquantity.each(function (index) {\n      var quantity = parseInt($(this).val());\n      var price = parseFloat(initalprice.eq(index).data(\"price\"));\n      total += quantity * price;\n    });\n    initialinput.val(total.toFixed(2));\n  }\n});\n\n// rating\n$(\".rating-form span\").click(function () {\n  var value = $(this).attr(\"data-value\");\n  $(\".rating\").val(value);\n  $(this).siblings(\"span\").removeClass(\"bi-star-fill\").addClass(\"bi-star\");\n  $(this).removeClass(\"bi-star\").addClass(\"bi-star-fill\");\n  $(this).prevAll(\"span\").removeClass(\"bi-star\").addClass(\"bi-star-fill\");\n});\n\n//approve review\n$(\".approve\").click(function () {\n  approvereview($(this).val());\n});\nfunction approvereview(review_id) {\n  var id = $(\"#restvalue\").attr(\"value\");\n  $.ajax({\n    url: \"/resturants/\" + id + \"/approve\",\n    method: \"POST\",\n    data: {\n      id: review_id,\n      authenticity_token: $('meta[name=\"csrf-token\"]').attr(\"content\")\n    },\n    success: function (data) {\n      alert(\"Review successfully approved!\");\n    },\n    error: function (data) {}\n  });\n}\n\n//change address\n\n$('#address-search-btn').click(function (event) {\n  event.preventDefault();\n  let inp = $('#search-address').val();\n  const settings = {\n    async: true,\n    crossDomain: true,\n    url: 'https://map-places.p.rapidapi.com/autocomplete/json?input=' + inp + '&radius=50000',\n    method: 'GET',\n    headers: {\n      'X-RapidAPI-Key': 'd1cb59beddmshf5c3d4ef7537f14p1983b7jsn55184da528f0',\n      'X-RapidAPI-Host': 'map-places.p.rapidapi.com'\n    }\n  };\n  $.ajax(settings).done(function (response) {\n    if (response.status == 'OK') {\n      $('#autocomplete').empty();\n      response.predictions.forEach(element => {\n        $('#autocomplete').append(`<li><a class=\"dropdown-item\" href=\"#\">${element.description}</a></li>`);\n      });\n    }\n  });\n});\n$(document).on('click', '.dropdown-item', function (event) {\n  event.preventDefault();\n  let t = $(this).text();\n  $('#order_delivery_address').text(t);\n  $('#order_delivery_address').val(t);\n});","map":{"version":3,"names":["$","click","makeadmin","val","idata","console","log","ajax","url","method","data","id","authenticity_token","attr","success","error","document","ready","setTimeout","fadeOut","markread","alert","count","initialquantity","initialinput","initalprice","on","updateTotal","total","each","index","quantity","parseInt","price","parseFloat","eq","toFixed","value","siblings","removeClass","addClass","prevAll","approvereview","review_id","event","preventDefault","inp","settings","async","crossDomain","headers","done","response","status","empty","predictions","forEach","element","append","description","t","text"],"sources":["/home/sumitava/rails_practise/zom/zoma/app/javascript/packs/main.js"],"sourcesContent":["//make admin\n$(\".make_admin\").click(function () {\n  makeadmin($(this).val());\n});\n\nfunction makeadmin(idata) {\n  console.log(idata);\n  $.ajax({\n    url: \"/makeadmin\",\n    method: \"POST\",\n    data: {\n      id: idata,\n      authenticity_token: $('meta[name=\"csrf-token\"]').attr(\"content\"),\n    },\n    success: function (data) {},\n    error: function (data) {},\n  });\n}\n\n// auto remove flash\n$(document).ready(function () {\n  setTimeout(function () {\n    $(\"#flash\").fadeOut();\n  }, 5000);\n});\n\n//mark read notifications\n$(\".mark-read\").click(function () {\n  markread($(this).val());\n});\n\nfunction markread(idata) {\n  $.ajax({\n    url: \"/markread\",\n    method: \"POST\",\n    data: {\n      id: idata,\n      authenticity_token: $('meta[name=\"csrf-token\"]').attr(\"content\"),\n    },\n    success: function (data) {\n      alert(\"Marked as read successfully!\");\n    },\n    error: function (data) {},\n  });\n}\n\n$(\".notification_count\").click(function () {\n  count($(this).attr(\"value\"));\n});\nfunction count(idata) {\n  $.ajax({\n    url: \"/count\",\n    method: \"POST\",\n    data: {\n      id: idata,\n      authenticity_token: $('meta[name=\"csrf-token\"]').attr(\"content\"),\n    },\n    success: function (data) {},\n    error: function (data) {},\n  });\n}\n\n// order edit\n$(document).ready(function () {\n  var initialquantity = $('.quantity input[type=\"number\"]');\n  var initialinput = $('input[name=\"order[total]\"]');\n  var initalprice = $(\".quantity .newprice\");\n\n  initialquantity.on(\"change\", function () {\n    updateTotal();\n  });\n\n  function updateTotal() {\n    var total = 0;\n    initialquantity.each(function (index) {\n      var quantity = parseInt($(this).val());\n      var price = parseFloat(initalprice.eq(index).data(\"price\"));\n      total += quantity * price;\n    });\n    initialinput.val(total.toFixed(2));\n  }\n});\n\n// rating\n$(\".rating-form span\").click(function () {\n  var value = $(this).attr(\"data-value\");\n  $(\".rating\").val(value);\n  $(this).siblings(\"span\").removeClass(\"bi-star-fill\").addClass(\"bi-star\");\n  $(this).removeClass(\"bi-star\").addClass(\"bi-star-fill\");\n  $(this).prevAll(\"span\").removeClass(\"bi-star\").addClass(\"bi-star-fill\");\n});\n\n//approve review\n$(\".approve\").click(function () {\n  approvereview($(this).val());\n});\n\nfunction approvereview(review_id) {\n  var id = $(\"#restvalue\").attr(\"value\");\n  $.ajax({\n    url: \"/resturants/\" + id + \"/approve\",\n    method: \"POST\",\n    data: {\n      id: review_id,\n      authenticity_token: $('meta[name=\"csrf-token\"]').attr(\"content\"),\n    },\n    success: function (data) {\n      alert(\"Review successfully approved!\");\n    },\n    error: function (data) {},\n  });\n}\n\n//change address\n\n$('#address-search-btn').click(function(event){\n  event.preventDefault();\n  let inp=$('#search-address').val()\n\n\n  const settings = {\n    async: true,\n    crossDomain: true,\n    url: 'https://map-places.p.rapidapi.com/autocomplete/json?input='+inp+'&radius=50000',\n    method: 'GET',\n    headers: {\n      'X-RapidAPI-Key': 'd1cb59beddmshf5c3d4ef7537f14p1983b7jsn55184da528f0',\n      'X-RapidAPI-Host': 'map-places.p.rapidapi.com'\n    }\n  };\n\n\n  $.ajax(settings).done(function (response) {\n  if (response.status=='OK') {\n\n    $('#autocomplete').empty()\n\n    response.predictions.forEach(element => {\n\n      $('#autocomplete').append(`<li><a class=\"dropdown-item\" href=\"#\">${element.description}</a></li>`)\n\n    });\n\n  }\n});\n\n})\n\n$(document).on('click','.dropdown-item',function (event) {\n  event.preventDefault();\n  let t=$(this).text()\n  $('#order_delivery_address').text(t)\n  $('#order_delivery_address').val(t)\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}